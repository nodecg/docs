<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-classes/sendMessage" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">sendMessage | NodeCG</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://nodecg.dev/fr/img/splash.png"><meta data-rh="true" name="twitter:image" content="https://nodecg.dev/fr/img/splash.png"><meta data-rh="true" property="og:url" content="https://nodecg.dev/fr/docs/classes/sendMessage"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="sendMessage | NodeCG"><meta data-rh="true" name="description" content="sendMessage(messageName, data, cb) → \{Promise\}"><meta data-rh="true" property="og:description" content="sendMessage(messageName, data, cb) → \{Promise\}"><link data-rh="true" rel="icon" href="/fr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nodecg.dev/fr/docs/classes/sendMessage"><link data-rh="true" rel="alternate" href="https://nodecg.dev/docs/classes/sendMessage" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://nodecg.dev/ja/docs/classes/sendMessage" hreflang="ja"><link data-rh="true" rel="alternate" href="https://nodecg.dev/fr/docs/classes/sendMessage" hreflang="fr"><link data-rh="true" rel="alternate" href="https://nodecg.dev/docs/classes/sendMessage" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/fr/blog/rss.xml" title="NodeCG RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fr/blog/atom.xml" title="NodeCG Atom Feed">



<script>(()=>{const e=new URL(window.location.href),t=new URLSearchParams(e.search);t.has("theme")&&localStorage.setItem("theme",t.get("theme"))})()</script><link rel="stylesheet" href="/fr/assets/css/styles.5a3dd915.css">
<script src="/fr/assets/js/runtime~main.4176fae5.js" defer="defer"></script>
<script src="/fr/assets/js/main.9accec62.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fr/"><div class="navbar__logo"><img src="/fr/img/logo.png" alt="NodeCG Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fr/img/logo.png" alt="NodeCG Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NodeCG</b></a><a href="https://github.com/nodecg/nodecg/releases" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.8 * var(--ifm-font-size-base))">v2.1.11<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/fr/docs/what-is-nodecg">Docs</a><a class="navbar__item navbar__link" href="/fr/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nodecg/nodecg" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fr/docs/what-is-nodecg">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fr/docs/concepts-and-terminology">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fr/docs/mounts">Advanced</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fr/docs/frameworks/using-bundlers">Using Frameworks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fr/docs/migrating/migrating-0.7-to-0.8">Migrating</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/fr/docs/classes/nodecg">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/nodecg">NodeCG</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/replicant">Replicant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/readReplicant">readReplicant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/waitForReplicants">waitForReplicants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fr/docs/classes/sendMessage">sendMessage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/sendMessageToBundle">sendMessageToBundle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/listenFor">listenFor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/unlisten">unlisten</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/log">log</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/router">Router</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/mount">mount</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/getDialog">getDialog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/getDialogDocument">getDialogDocument</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/getSocketIOServer">getSocketIOServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/findCue">findCue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/playSound">playSound</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/stopAllSounds">stopAllSounds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/stopSound">stopSound</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/classes/socket">socket</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">sendMessage</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>sendMessage</h1></header><p><code>sendMessage(messageName, *data, *cb)</code> <em>→ {Promise}</em></p>
<p>Sends a message with optional data within the current bundle. Messages can be sent from client to server, server to client, or client to client.</p>
<p>Messages are namespaced by bundle. To send a message in another bundle&#x27;s namespace, use <a href="/fr/docs/classes/sendMessageToBundle">sendMessageToBundle</a>.</p>
<p>When a sendMessage is used from a client context (i.e., graphic or dashboard panel), it returns a Promise called an &quot;acknowledgement&quot;. Your server-side code (i.e., extension) can invoke this acknowledgement with whatever data (or error) it wants. Errors sent to acknowledgements from the server will be properly serialized and intact when received on the client.</p>
<p>Alternatively, if you do not wish to use a Promise, you can provide a standard error-first callback as the last argument to sendMessage.</p>
<p>If your server-side code has multiple listenFor handlers for your message, you must first check if the acknowledgement has already been handled before attempting to call it. You may so do by checking the .handled boolean property of the ack function passed to your listenFor handler.</p>
<p>See <a href="http://socket.io/docs/#sending-and-getting-data-%28acknowledgements%29" target="_blank" rel="noopener noreferrer">Socket.IO&#x27;s docs</a> for more information on how acknowledgements work under the hood.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="returns">Returns<a href="#returns" class="hash-link" aria-label="Lien direct vers Returns" title="Lien direct vers Returns">​</a></h3>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Browser Only</div><div class="admonitionContent_BuS1"><p>This can only be used in code which runs in Dashboards and Graphics.</p></div></div>
<p>A Promise that is rejected if the first argument provided to the acknowledgement is an Error, otherwise it is resolved with the remaining arguments provided to the acknowledgement.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Lien direct vers Parameters" title="Lien direct vers Parameters">​</a></h3>
<table><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td>string</td><td></td><td>The name of the message.</td></tr><tr><td>data</td><td>mixed</td><td>&lt;optional&gt;</td><td>The data to send.</td></tr><tr><td>cb</td><td>function</td><td>&lt;optional&gt;</td><td><em>Browser only</em> The error-first callback to handle the server&#x27;s acknowledgement message, if any.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Lien direct vers Example" title="Lien direct vers Example">​</a></h3>
<p>Sending a normal message:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#174cbb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#174cbb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#174cbb"><span class="token plain">nodecg</span><span class="token punctuation" style="color:#714d01">.</span><span class="token method function property-access" style="color:#ab0047">sendMessage</span><span class="token punctuation" style="color:#714d01">(</span><span class="token string" style="color:#6100e2">&#x27;printMessage&#x27;</span><span class="token punctuation" style="color:#714d01">,</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;dope.&#x27;</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sending a message and replying with an acknowledgement:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#174cbb"><div class="codeBlockTitle_Ktv7">bundles/my-bundle/extension.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#174cbb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#174cbb"><span class="token plain">module</span><span class="token punctuation" style="color:#714d01">.</span><span class="token method-variable function-variable method function property-access" style="color:#ab0047">exports</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword" style="color:#6100e2">function</span><span class="token punctuation" style="color:#714d01">(</span><span class="token parameter">nodecg</span><span class="token punctuation" style="color:#714d01">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    nodecg</span><span class="token punctuation" style="color:#714d01">.</span><span class="token method function property-access" style="color:#ab0047">listenFor</span><span class="token punctuation" style="color:#714d01">(</span><span class="token string" style="color:#6100e2">&#x27;multiplyByTwo&#x27;</span><span class="token punctuation" style="color:#714d01">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">(</span><span class="token parameter">value</span><span class="token parameter punctuation" style="color:#714d01">,</span><span class="token parameter"> ack</span><span class="token punctuation" style="color:#714d01">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#6100e2">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">(</span><span class="token plain">value </span><span class="token operator" style="color:#063289">===</span><span class="token plain"> </span><span class="token number" style="color:#063289">4</span><span class="token punctuation" style="color:#714d01">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">            </span><span class="token function" style="color:#ab0047">ack</span><span class="token punctuation" style="color:#714d01">(</span><span class="token keyword" style="color:#6100e2">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#714d01">(</span><span class="token string" style="color:#6100e2">&#x27;I don\&#x27;t like multiplying the number 4!&#x27;</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#6100e2">return</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token punctuation" style="color:#714d01">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token comment" style="color:#714d01">// Acknowledgements should always be error-first callbacks.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token comment" style="color:#714d01">// If you do not wish to send an error, use a falsey value</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token comment" style="color:#714d01">// like &quot;null&quot; instead.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#6100e2">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">(</span><span class="token plain">ack </span><span class="token operator" style="color:#063289">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#063289">!</span><span class="token plain">ack</span><span class="token punctuation" style="color:#714d01">.</span><span class="token property-access">handled</span><span class="token punctuation" style="color:#714d01">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">            </span><span class="token function" style="color:#ab0047">ack</span><span class="token punctuation" style="color:#714d01">(</span><span class="token keyword null nil" style="color:#6100e2">null</span><span class="token punctuation" style="color:#714d01">,</span><span class="token plain"> value </span><span class="token operator" style="color:#063289">*</span><span class="token plain"> </span><span class="token number" style="color:#063289">2</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token punctuation" style="color:#714d01">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token punctuation" style="color:#714d01">}</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token punctuation" style="color:#714d01">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#174cbb"><div class="codeBlockTitle_Ktv7">bundles/my-bundle/graphics/script.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#174cbb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#174cbb"><span class="token comment" style="color:#714d01">/* Both of these examples are functionally identical. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01">// Promise acknowledgement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">nodecg</span><span class="token punctuation" style="color:#714d01">.</span><span class="token method function property-access" style="color:#ab0047">sendMessage</span><span class="token punctuation" style="color:#714d01">(</span><span class="token string" style="color:#6100e2">&#x27;multiplyByTwo&#x27;</span><span class="token punctuation" style="color:#714d01">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">2</span><span class="token punctuation" style="color:#714d01">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token punctuation" style="color:#714d01">.</span><span class="token method function property-access" style="color:#ab0047">then</span><span class="token punctuation" style="color:#714d01">(</span><span class="token parameter">result</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#714d01">.</span><span class="token method function property-access" style="color:#ab0047">log</span><span class="token punctuation" style="color:#714d01">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"> </span><span class="token comment" style="color:#714d01">// Will eventually print &#x27;4&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token punctuation" style="color:#714d01">}</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">.</span><span class="token keyword control-flow" style="color:#6100e2">catch</span><span class="token punctuation" style="color:#714d01">(</span><span class="token parameter">error</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#714d01">.</span><span class="token method function property-access" style="color:#ab0047">error</span><span class="token punctuation" style="color:#714d01">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token punctuation" style="color:#714d01">}</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01">// Error-first callback acknowledgement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">nodecg</span><span class="token punctuation" style="color:#714d01">.</span><span class="token method function property-access" style="color:#ab0047">sendMessage</span><span class="token punctuation" style="color:#714d01">(</span><span class="token string" style="color:#6100e2">&#x27;multiplyByTwo&#x27;</span><span class="token punctuation" style="color:#714d01">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">2</span><span class="token punctuation" style="color:#714d01">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">(</span><span class="token parameter">error</span><span class="token parameter punctuation" style="color:#714d01">,</span><span class="token parameter"> result</span><span class="token punctuation" style="color:#714d01">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#6100e2">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#714d01">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#714d01">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#714d01">.</span><span class="token method function property-access" style="color:#ab0047">error</span><span class="token punctuation" style="color:#714d01">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#6100e2">return</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token punctuation" style="color:#714d01">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#714d01">.</span><span class="token method function property-access" style="color:#ab0047">log</span><span class="token punctuation" style="color:#714d01">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><span class="token plain"> </span><span class="token comment" style="color:#714d01">// Will eventually print &#x27;4&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token punctuation" style="color:#714d01">}</span><span class="token punctuation" style="color:#714d01">)</span><span class="token punctuation" style="color:#714d01">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nodecg/docs/edit/main/docs/classes/sendMessage.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Éditer cette page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Dernière mise à jour<!-- --> le <b><time datetime="2025-01-20T11:32:56.000Z">20 janv. 2025</time></b> par <b>Keiichiro Amemiya</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href="/fr/docs/classes/waitForReplicants"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">waitForReplicants</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fr/docs/classes/sendMessageToBundle"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">sendMessageToBundle</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#returns" class="table-of-contents__link toc-highlight">Returns</a></li><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fr/docs/what-is-nodecg">What is NodeCG</a></li><li class="footer__item"><a class="footer__link-item" href="/fr/docs/creating-bundles">Quick Start</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/GJ4r8a8" target="_blank" rel="noopener noreferrer" class="footer__link-item" id="footer-discord-link">Discord (Stats loading...)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fr/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/nodecg/nodecg" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/nodecg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright (c) 2023 Alex Van Camp, Matthew McNamara, and contributors</div></div></div></footer></div>
</body>
</html>