<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docker" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Docker | NodeCG</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://nodecg.dev/img/splash.png"><meta data-rh="true" name="twitter:image" content="https://nodecg.dev/img/splash.png"><meta data-rh="true" property="og:url" content="https://nodecg.dev/docs/docker"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Docker | NodeCG"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nodecg.dev/docs/docker"><link data-rh="true" rel="alternate" href="https://nodecg.dev/docs/docker" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://nodecg.dev/ja/docs/docker" hreflang="ja"><link data-rh="true" rel="alternate" href="https://nodecg.dev/fr/docs/docker" hreflang="fr"><link data-rh="true" rel="alternate" href="https://nodecg.dev/docs/docker" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="NodeCG RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="NodeCG Atom Feed">



<script>(()=>{const e=new URL(window.location.href),t=new URLSearchParams(e.search);t.has("theme")&&localStorage.setItem("theme",t.get("theme"))})()</script><link rel="stylesheet" href="/assets/css/styles.5a3dd915.css">
<script src="/assets/js/runtime~main.955b2aca.js" defer="defer"></script>
<script src="/assets/js/main.db67c501.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="NodeCG Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="NodeCG Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NodeCG</b></a><a href="https://github.com/nodecg/nodecg/releases" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.8 * var(--ifm-font-size-base))">v2.1.11<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/docs/what-is-nodecg">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nodecg/nodecg" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/what-is-nodecg">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/concepts-and-terminology">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/mounts">Advanced</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mounts">Mount folders as endpoints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security">Security &amp; Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screenshot-testing">Testing Graphics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/custom-routes">Custom Routes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sentry">Sentry.io</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/docker">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/editing-the-database">Manually editing the database</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/frameworks/using-bundlers">Using Frameworks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/migrating/migrating-0.7-to-0.8">Migrating</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/classes/nodecg">API Reference</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Docker</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Docker</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<blockquote>
<p>Docker is a platform for developers and sysadmins to develop, deploy, and run applications with containers. The use of Linux containers to deploy applications is called containerization. Containers are not new, but their use for easily deploying applications is.</p>
<p>Containerization is increasingly popular because containers are:</p>
<ul>
<li>Flexible: Even the most complex applications can be containerized.</li>
<li>Lightweight: Containers leverage and share the host kernel.</li>
<li>Interchangeable: You can deploy updates and upgrades on-the-fly.</li>
<li>Portable: You can build locally, deploy to the cloud, and run anywhere.</li>
<li>Scalable: You can increase and automatically distribute container replicas.</li>
<li>Stackable: You can stack services vertically and on-the-fly.</li>
</ul>
<p>Source <a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener noreferrer">Get Started - docs.docker.com</a></p>
</blockquote>
<p>Docker provides a lot of useful features for NodeCG:</p>
<ul>
<li>No need to care about dependencies; they are all bundled with the Docker image.</li>
<li>Run it everywhere.</li>
<li>Easy upgrades.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li><a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">Docker</a> (modern versions of Docker Desktop come with the <code>docker compose</code> command and it no longer needs to be separately installed)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Simple Deployment &amp; Testing<a href="#deployment" class="hash-link" aria-label="Direct link to Simple Deployment &amp; Testing" title="Direct link to Simple Deployment &amp; Testing">​</a></h2>
<p>If you want to use containerized NodeCG in the simplest possible deployment, all you have to do is run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#174cbb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#174cbb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#174cbb"><span class="token plain"># If on Windows: run this command in Git Bash, not Command Prompt or PowerShell.</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">docker run \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -p 9090:9090/tcp \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -v &quot;/$PWD/cfg:/opt/nodecg/cfg&quot; \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -v &quot;/$PWD/bundles:/opt/nodecg/bundles&quot; \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -v &quot;/$PWD/logs:/opt/nodecg/logs&quot; \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -v &quot;/$PWD/db:/opt/nodecg/db&quot; \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -v &quot;/$PWD/assets:/opt/nodecg/assets&quot; \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -it ghcr.io/nodecg/nodecg:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command will bind the <code>cfg</code>, <code>bundles</code>, <code>logs</code>, <code>db</code>, and <code>assets</code> folders from the current working directory into the NodeCG Docker container, making them available to NodeCG at runtime. This is one way to get bundles into a containerized instance of NodeCG. Likewise, NodeCG can write the database, logs, and assets back into these directories on the host filesystem, allowing for persistence.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-deployment">Advanced Deployment<a href="#advanced-deployment" class="hash-link" aria-label="Direct link to Advanced Deployment" title="Direct link to Advanced Deployment">​</a></h2>
<p>For more advanced deployments, you may also build your own Docker image to hold all your bundles and configuration.</p>
<p>Example Dockerfile:</p>
<div class="language-docker codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#174cbb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-docker codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#174cbb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#174cbb"><span class="token comment" style="color:#714d01"># Specifies the base image to build on top of.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># It also creates a nodecg user with appropriate permissions.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token instruction keyword" style="color:#6100e2">FROM</span><span class="token instruction"> ghcr.io/nodecg/nodecg:latest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># This is one way to install a bundle and generate a config for it.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># You may need to take a different approach depending on your use case.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># Be sure to replace [bundle-repo] and [bundle-name] with actual values and remove the brackets ([]).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token instruction keyword" style="color:#6100e2">RUN</span><span class="token instruction"> nodecg install [bundle-repo] &amp;&amp; nodecg defaultconfig [bundle-name]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># This copies your NodeCG config into the container, which is a tradeoff.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># The benefit is that you don&#x27;t need to worry about copying the config file around between deployments.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># The drawbacks are that you cannot easily change this config once it is in the container and that anyone with access to the docker image will have access to the secrets in the configuration files.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># If you don&#x27;t want to put your configuration inside the image, then use the volume mounting approach outlined in the Simple Deployment section above.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># If you use a *.yaml or *.js config file, be sure to edit this command to reflect that.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token instruction keyword" style="color:#6100e2">COPY</span><span class="token instruction"> ./cfg/nodecg.json /opt/nodecg/cfg/nodecg.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># The principles outlined above apply to any file that is part of your NodeCG deployment: you can either put it in the container or you can mount it from a volume. The base nodecg/nodecg Docker image already defines volume mount points for the cfg, bundles, logs, db, and assets directories. It is recommended that you mount logs, db, and assets as volumes so that NodeCG can persist data in those folders to the host filesystem, meaning that they will be carried over when you update your Docker image and redeploy. For the cfg and bundles directories, it is up to you whether you want to bake them into your image or if you want to mount them as volumes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># This is how you&#x27;d copy a specific bundle from the build directory into your image:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token instruction keyword" style="color:#6100e2">COPY</span><span class="token instruction"> ./bundles/example-bundle /opt/nodecg/bundles/example-bundle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># This is how you&#x27;d copy all bundles from the build directory into your image:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token instruction keyword" style="color:#6100e2">COPY</span><span class="token instruction"> ./bundles /opt/nodecg/bundles</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># This is how you&#x27;d copy all config files fmr the build directory into your image:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token comment" style="color:#714d01"># Again, be warned that anyone with access to this image will be able to read the secrets from these files.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token instruction keyword" style="color:#6100e2">COPY</span><span class="token instruction"> ./cfg /opt/nodecg/cfg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now use Docker to build your image from the Dockerfile you just created:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#174cbb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#174cbb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#174cbb"><span class="token plain"># Be sure to replace [your-image-name]  with an actual name and remove the brackets ([]).</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"># Do not omit the &quot;.&quot; at the end of the command.</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">docker build -t [your-image-name] .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And run it with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#174cbb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#174cbb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#174cbb"><span class="token plain"># If on Windows: run this command in Git Bash, not Command Prompt or PowerShell.</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">docker run \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -p 9090:9090/tcp \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -v &quot;/$PWD/logs:/opt/nodecg/logs&quot; \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -v &quot;/$PWD/db:/opt/nodecg/db&quot; \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -v &quot;/$PWD/assets:/opt/nodecg/assets&quot; \</span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain"> -it [your-image-name]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or create a docker-compose.yml like this:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#174cbb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#174cbb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#174cbb"><span class="token key atrule">services</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">  </span><span class="token key atrule">nodecg</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;[your-image-name]&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">      </span><span class="token punctuation" style="color:#714d01">-</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;9090:9090&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">      </span><span class="token punctuation" style="color:#714d01">-</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;[absolute path to logs dir on host filesystem]:/opt/nodecg/logs&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">      </span><span class="token punctuation" style="color:#714d01">-</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;[absolute path to db dir on host filesystem]:/opt/nodecg/db&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#174cbb"><span class="token plain">      </span><span class="token punctuation" style="color:#714d01">-</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;[absolute path to assets dir on host filesystem]:/opt/nodecg/assets&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To pin NodeCG to a specific version, replace <code>FROM ghcr.io/nodecg/nodecg:latest</code> with <code>FROM ghcr.io/nodecg/nodecg:release:[specific version]</code></p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>If you want to host your NodeCG instance on the internet (instead of just on a secure LAN), it is highly recommended to encrypt and secure NodeCG.</p><p>To encrypt the traffic, you can use a <a href="https://en.wikipedia.org/wiki/TLS_termination_proxy" target="_blank" rel="noopener noreferrer">TLS/SSL termination proxy</a> like:</p><ul>
<li><a href="https://github.com/containous/traefik" target="_blank" rel="noopener noreferrer">Traefik</a> - Really neat if you host a lot of services in Docker.</li>
<li><a href="https://proxy.dockerflow.com/" target="_blank" rel="noopener noreferrer">Docker Flow Proxy</a> - Similar to Traefik.</li>
<li><a href="https://caddyserver.com" target="_blank" rel="noopener noreferrer">Caddy</a> - Be aware of the licensing of the binaries. It should be ok if you build it yourself e.g. in a Docker image. No guarantee.</li>
<li><a href="https://github.com/nginx-proxy/nginx-proxy#ssl-support-using-letsencrypt" target="_blank" rel="noopener noreferrer">nginx-proxy w/ letsencrypt</a> - Useful if you&#x27;re already familiar with nginx or have existing site configurations you&#x27;d like to port over.</li>
<li>Others - There are a lot of other solutions. Choose what fits you best.</li>
</ul><p>To secure NodeCG, follow the <a href="/docs/security">Security &amp; Authentication</a> guide.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nodecg/docs/edit/main/docs/docker.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-01-20T20:50:01.000Z">Jan 20, 2025</time></b> by <b>dependabot[bot]</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/sentry"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Sentry.io</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/editing-the-database"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Manually editing the database</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#deployment" class="table-of-contents__link toc-highlight">Simple Deployment &amp; Testing</a></li><li><a href="#advanced-deployment" class="table-of-contents__link toc-highlight">Advanced Deployment</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/what-is-nodecg">What is NodeCG</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/creating-bundles">Quick Start</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/GJ4r8a8" target="_blank" rel="noopener noreferrer" class="footer__link-item" id="footer-discord-link">Discord (Stats loading...)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/nodecg/nodecg" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/nodecg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright (c) 2023 Alex Van Camp, Matthew McNamara, and contributors</div></div></div></footer></div>
</body>
</html>